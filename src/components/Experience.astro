---
import experiences from "../mocks/experience.json";

const { title } = Astro.props
---

<section id="experience" class="scroll-mt-20 select-none">
  <h3 class="sticky top-0 pt-5 pb-3 bg-background/50 backdrop-blur-sm lg:static lg:p-0 lg:bg-transparent lg:backdrop-blur-0 font-bold lg:mb-3 text-accent z-50">{ title }</h3>
  {
    experiences.map((ex) => {
      return (
        <div class="experience__container relative flex flex-col gap-3 mb-10 hover:before:flex">
          <p class="text-neutral-400 font-semibold">{ex.date}</p>
          <p class="font-semibold">
            {ex.position}, {ex.company}
          </p>
          <div>
            {ex.description.map((p) => {
              return (
                <p class="text-neutral-400 mb-2">{p}</p>
              )
            })}
          </div>
          <div class="mt-3 flex gap-2 flex-wrap">
            {ex.technologies.map((tech) => {
              return (
                <span class="px-3 py-1.5 bg-accent/10 text-accent text-sm rounded-full">
                  {tech}
                </span>
              );
            })}
          </div>
        </div>
      );
    })
  }
</section>

<style>
    .experience__container::before {
        content: '';
        position: absolute;
        display: none;
        width: 100%;
        height: 100%;
        background: #000;
        padding: 10px;
        box-sizing: content-box;
    }
</style>