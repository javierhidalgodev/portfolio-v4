---
import experiences from "../mocks/experience.json";

const { title } = Astro.props;
---

<section id="experience" class="scroll-mt-20 select-none">
  <div class="sticky top-0 -mx-5 p-5 bg-background/50 backdrop-blur-sm lg:static lg:mx-auto lg:p-0 lg:bg-transparent lg:backdrop-blur-0 lg:mb-6 z-50">
    <h3 class="font-bold text-accent">{ title }</h3>
  </div>
  {
    experiences.map((ex) => {
      return (
        <div class="experience__container relative flex flex-col gap-3 mb-10 hover:before:flex">
          <p class="font-semibold">{ex.date}</p>
          <h3 class="font-semibold">
            {ex.position}, {ex.company}
          </h3>
          <div>
            {ex.description.map((p) => {
              return <p class="mb-2">{p}</p>;
            })}
          </div>
          <div class="mt-3 flex gap-2 flex-wrap">
            {ex.technologies.map((tech) => {
              return (
                <span class="px-3 py-1.5 bg-accent/10 text-accent text-sm rounded-full">
                  {tech}
                </span>
              );
            })}
          </div>
        </div>
      );
    })
  }
</section>

<style>
  p {
    @apply text-text/50;
  }

  .experience__container::before {
    content: "";
    position: absolute;
    display: none;
    width: 100%;
    height: 100%;
    background: #000;
    padding: 10px;
    box-sizing: content-box;
  }
</style>
