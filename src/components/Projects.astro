---
import projects from "../mocks/projects.json";
import LinkArrow from "./icons/LinkArrow.astro";

const { title } = Astro.props
---

<section id="projects" class="scroll-mt-20 select-none">
  <div class="sticky top-0 -mx-5 p-5 bg-background/50 backdrop-blur-sm lg:static lg:mx-auto lg:p-0 lg:bg-transparent lg:backdrop-blur-0 lg:mb-6 z-50">
    <h3 class="font-bold text-accent">{ title }</h3>
  </div>
  <div class="flex flex-col gap-9 group/list max-lg:[&>:not(last-child)]:border-b max-lg:[&>:not(last-child)]:border-b-neutral-400/50">
    {
      projects.map((project) => {
        if (project.status === "active") {
          return (
            <div class="group relative max-lg:pb-4 flex flex-col-reverse items-start md:flex-row gap-4 lg:group-hover/list:opacity-45 lg:hover:!opacity-100 duration-100 z-0">
              <div class="absolute -inset-x-4 -inset-y-4 lg:group-hover:bg-neutral-400/10 z-10" />
              <img
                src={"images/" + project.thumbnail}
                alt={"Project " + project.title + " Image"}
                width="200"
                height="auto"
                loading="lazy"
                class="aspect-video object-cover basis-1/3 border-2 border-neutral-400/50"
              />
              <div class="basis-2/3 z-10">
                <a
                  class="font-semibold"
                  href={project.links.demo}
                  rel="noreferrer noopener"
                  target="_blank"
                >
                  <span class="absolute -inset-x-4 -inset-y-4" />
                  <span>
                    {project.title}
                    <LinkArrow />
                  </span>
                </a>
                <p class="text-neutral-400 text-sm">{project.description}</p>
              </div>
            </div>
          );
        }
      })
    }
  </div>
</section>
